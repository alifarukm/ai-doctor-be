{
	"$schema": "node_modules/wrangler/config-schema.json",
	"name": "ai-doctor-be",
	"main": "src/index.ts",
	"compatibility_date": "2025-10-19",
	"d1_databases": [
		{
			"binding": "DB",
			"database_name": "tr-ai-doctor-db",
			"database_id": "f2b1f2b2-6749-4b13-a528-a4f9f385f62a",
			"remote": true
		}
	],
	// Cloudflare AI for embeddings and NLP
	"ai": {
		"binding": "AI"
	},
	// Vectorize for semantic search
	"vectorize": [
		{
			"binding": "VECTORIZE",
			"index_name": "medical-entities-index",
			"remote": true
		}
	],
	// Environment variables
	"vars": {
		"EMBEDDING_MODEL": "@cf/baai/bge-base-en-v1.5",
		"NLP_MODEL": "@cf/meta/llama-3.1-8b-instruct",
		"EMBEDDING_DIMENSIONS": "768",
		"VECTOR_SEARCH_LIMIT": "10",
		"VECTOR_SEARCH_THRESHOLD": "0.5",

		"OPEN_ROUTER_API_KEY": "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",
		"LLM_MODEL": "z-ai/glm-4.5-air:free"
	}
	// "compatibility_flags": [
	//   "nodejs_compat"
	// ],
	// "kv_namespaces": [
	//   {
	//     "binding": "MY_KV_NAMESPACE",
	//     "id": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
	//   }
	// ],
	// "r2_buckets": [
	//   {
	//     "binding": "MY_BUCKET",
	//     "bucket_name": "my-bucket"
	//   }
	// ],
	// "observability": {
	//   "enabled": true,
	//   "head_sampling_rate": 1
	// }
}
